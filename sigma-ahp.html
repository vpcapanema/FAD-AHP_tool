<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGMA - Calculadora AHP</title>

    <!-- SIGMA AHP specific styles (contém todas as variáveis e estilos) -->
    <link rel="stylesheet" href="sigma-ahp.css">

    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Montserrat Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Chart.js para gráficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- PLI Navbar Header -->
    <header class="l-header">
        <nav class="pli-navbar">
            <div class="pli-navbar__container">
                <a href="#" class="pli-navbar__brand">
                    <i class="fas fa-calculator"></i> SIGMA - AHP Calculator
                </a>

                <ul class="pli-navbar__nav">
                    <li><a href="#" class="pli-navbar__link pli-navbar__link--active">Calculadora</a></li>
                    <li><a href="#" class="pli-navbar__link">Sobre</a></li>
                    <li><a href="#" class="pli-navbar__link">Ajuda</a></li>
                </ul>

                <div class="pli-navbar__utilities">
                    <button class="pli-navbar__notification" id="notificationBtn" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="pli-navbar__notification-badge" id="notificationCount">3</span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Painel de Notificações -->
    <div id="notificationPanel" class="notification-panel">
        <div class="notification-panel__header">
            <h3 class="notification-panel__title"><i class="fas fa-bell"></i> Notificações do Sistema</h3>
        </div>
        <div id="notificationList" class="notification-panel__list">
            <!-- Notificações serão inseridas aqui -->
        </div>
        <div class="notification-panel__footer">
            <button onclick="clearAllNotifications()" class="notification-panel__clear-btn">
                <i class="fas fa-check-double"></i> Marcar todas como lidas
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="l-main">
        <div class="l-container">
            <!-- Seção de Introdução AHP -->
            <section class="ahp-section">
                <h1 class="ahp-title">SIGMA</h1>
                <p class="ahp-subtitle">Sistema Integrado de Gestão, Monitoramento e Apoio técnico ao PLI/SP-2050</p>

                <p class="ahp-description">
                    A Análise Hierárquica de Processo (AHP) é uma ferramenta de suporte à decisão baseada na análise multicritério.
                    O método baseia-se na construção de uma matriz de comparações pareadas, onde os critérios são comparados par a par.
                    A comparação é feita por meio da atribuição de valores de intensidade de importância com base em uma escala que varia de 1 a 9.
                    Os valores de intensidade de importância são consolidados para calcular os pesos globais.
                    A validação da comparação pareada é medida pela Razão de Consistência (RC) que mede a lógica da hierarquização
                    (<a href="https://www.sciencedirect.com/science/article/abs/pii/037722179090057I" target="_blank" rel="noopener">SAATY, 1990</a>;
                    <a href="https://link.springer.com/article/10.2333/bhmk.18.29_1" target="_blank" rel="noopener">1991</a>).
                </p>
            </section>

            <!-- Funcionalidades da Aplicação -->
            <section class="ahp-section">
                <h2 class="section-title">Funcionalidades da Aplicação</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>Cálculo Automático</h3>
                        <p>Processamento automático dos pesos e índices de consistência usando o método AHP de Saaty com validação matemática completa.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3>Visualização Gráfica</h3>
                        <p>Gráficos interativos em tempo real para visualizar os pesos dos critérios e facilitar a interpretação dos resultados.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-file-export"></i>
                        </div>
                        <h3>Exportação Múltipla</h3>
                        <p>Exporte seus resultados em PDF, CSV ou XLSX para relatórios profissionais e análises posteriores.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h3>Interface Intuitiva</h3>
                        <p>Navegação por abas com controle sequencial, validação em tempo real e feedback visual do progresso.</p>
                    </div>
                </div>
            </section>

            <!-- Fluxo do Processo -->
            <section class="ahp-section">
                <h2 class="section-title">Fluxo do Processo</h2>
                <div class="process-grid">
                    <div class="process-card">
                        <div class="process-number">1</div>
                        <h3>Seleção de Critérios</h3>
                        <p>Defina a quantidade de critérios (de 1 a 20) que serão comparados no processo de decisão multicritério.</p>
                    </div>
                    <div class="process-card">
                        <div class="process-number">2</div>
                        <h3>Nomeação dos Critérios</h3>
                        <p>Atribua nomes descritivos e significativos para cada critério selecionado com validação em tempo real.</p>
                    </div>
                    <div class="process-card">
                        <div class="process-number">3</div>
                        <h3>Escolha do Método</h3>
                        <p>Selecione entre matriz direta ou formulário para realizar as comparações pareadas de forma visual.</p>
                    </div>
                    <div class="process-card">
                        <div class="process-number">4</div>
                        <h3>Comparação Pareada</h3>
                        <p>Compare os critérios par a par usando a escala de intensidade de Saaty (1 a 9) com cálculo automático de recíprocos.</p>
                    </div>
                    <div class="process-card">
                        <div class="process-number">5</div>
                        <h3>Análise de Resultados</h3>
                        <p>Visualize pesos, índices de consistência, gráficos interativos e exporte relatórios completos da análise.</p>
                    </div>
                </div>
                
                <div class="welcome-actions">
                    <a href="step1-criterios.html" class="c-btn c-btn--primary c-btn--lg">
                        <i class="fas fa-play c-btn__icon"></i>Iniciar Calculadora AHP
                    </a>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="l-footer">
        <div class="l-footer__content">
            <p>&copy; 2025 SIGMA - Sistema Integrado de Gestão, Monitoramento e Apoio técnico ao PLI/SP-2050. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // Sistema de Notificações
        const notifications = [
            {
                id: 1,
                icon: 'fas fa-info-circle',
                color: '#0277bd',
                title: 'Bem-vindo ao SIGMA AHP',
                message: 'Esta ferramenta utiliza o método de Análise Hierárquica de Processo (AHP) para apoiar decisões multicritério.',
                time: 'Agora',
                read: false
            },
            {
                id: 2,
                icon: 'fas fa-lightbulb',
                color: '#ffa726',
                title: 'Dica de Uso',
                message: 'Para melhores resultados, certifique-se de que a Razão de Consistência (CR) seja inferior a 0,10 (10%).',
                time: '5 min atrás',
                read: false
            },
            {
                id: 3,
                icon: 'fas fa-download',
                color: '#66bb6a',
                title: 'Exportação Disponível',
                message: 'Você pode exportar seus resultados em formato CSV ou JSON diretamente da página de resultados.',
                time: '1 hora atrás',
                read: false
            }
        ];

        function loadNotifications() {
            const listContainer = document.getElementById('notificationList');
            const unreadCount = notifications.filter(n => !n.read).length;
            
            document.getElementById('notificationCount').textContent = unreadCount;
            document.getElementById('notificationCount').style.display = unreadCount > 0 ? 'block' : 'none';
            
            listContainer.innerHTML = '';
            
            notifications.forEach(notif => {
                const notifDiv = document.createElement('div');
                notifDiv.style.cssText = 'padding: 1rem; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background 0.2s;' + (!notif.read ? 'background: #f5f9ff;' : '');
                notifDiv.onmouseover = function() { this.style.background = '#e3f2fd'; };
                notifDiv.onmouseout = function() { this.style.background = notif.read ? 'white' : '#f5f9ff'; };
                notifDiv.onclick = function() { markAsRead(notif.id); };
                
                notifDiv.innerHTML = `
                    <div style="display: flex; gap: 1rem; align-items: flex-start;">
                        <div style="flex-shrink: 0;">
                            <i class="${notif.icon}" style="font-size: 1.5rem; color: ${notif.color};"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                                <strong style="color: var(--pli-azul-escuro); font-size: 0.95rem;">${notif.title}</strong>
                                ${!notif.read ? '<span style="width: 8px; height: 8px; background: #2196f3; border-radius: 50%; display: inline-block;"></span>' : ''}
                            </div>
                            <p style="margin: 0 0 0.5rem 0; color: #666; font-size: 0.85rem; line-height: 1.4;">${notif.message}</p>
                            <small style="color: #999; font-size: 0.75rem;"><i class="far fa-clock"></i> ${notif.time}</small>
                        </div>
                    </div>
                `;
                
                listContainer.appendChild(notifDiv);
            });
        }

        function toggleNotifications() {
            const panel = document.getElementById('notificationPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'block';
                loadNotifications();
            } else {
                panel.style.display = 'none';
            }
        }

        function markAsRead(id) {
            const notif = notifications.find(n => n.id === id);
            if (notif) {
                notif.read = true;
                loadNotifications();
            }
        }

        function clearAllNotifications() {
            notifications.forEach(n => n.read = true);
            loadNotifications();
            document.getElementById('notificationPanel').style.display = 'none';
        }

        // Fechar painel ao clicar fora
        document.addEventListener('click', function(event) {
            const panel = document.getElementById('notificationPanel');
            const btn = document.getElementById('notificationBtn');
            
            if (panel && btn && !panel.contains(event.target) && !btn.contains(event.target)) {
                panel.style.display = 'none';
            }
        });

        // Carregar notificações ao iniciar
        window.addEventListener('DOMContentLoaded', loadNotifications);
    </script>
</body>
</html>